{% spaceless %}
{% if elements is not defined %}
    {% import 'PimUIBundle:Default:page_elements.html.twig' as elements %}
{% endif %}
{% endspaceless %}
{% set accordionContent = { 'pane.accordion.label_translations': form_row(form.label) } %}

{% set optionsContent %}
    {% set sortable = form['autoOptionSorting'] is defined ? (not form['autoOptionSorting'].vars.data ? '1' : '0') : '1' %}
    <div id="attribute-option-grid" data-attribute-id="{{ form.vars.value.id }}" data-locales="{{ locales|json_encode() }}" data-sortable="{{ sortable }}"></div>

    <script type="text/javascript">
        require(['jquery', 'pim/attributeoptionview'], function($, attributeoptiongrid) {
            attributeoptiongrid($('#attribute-option-grid'));
        });
    </script>
{% endset %}
{% set accordionContent = accordionContent|merge({ 'pane.accordion.options': optionsContent }) %}

{{ elements.accordion(accordionContent, 2) }}
